# 3. Încapsulare, Modificatori de Acces și Imutabilitate

### Subiecte
- Principiul Încapsulării
- Ierarhia Modificatorilor de Acces (`private`, `default`, `protected`, `public`)
- Regulile pentru Crearea Claselor Imutabile (Immutable)

### Rezumat
Acest ghid acoperă principiul fundamental al încapsulării, care stă la baza protejării datelor și ascunderii implementării în POO. Detaliază ierarhia celor patru modificatori de acces din Java, explicând exact cine poate accesa un membru. Ghidul se concentrează în mod special pe aplicarea acestor concepte pentru a crea clase imutabile, corectând neclaritatea dintre ce este obligatoriu (`private`) și ce nu este (`static`) pentru imutabilitate.

### Concepte
- **Încapsularea:** Unul dintre pilonii POO. Constă în ascunderea stării interne și a logicii de implementare a unei clase și expunerea unei interfețe publice controlate (metode `public`, cum ar fi "getters"). Scopul este de a preveni coruperea datelor și de a permite modificarea internă a clasei fără a afecta codul extern care o folosește.
- **Modificatorul `private`:** Oferă cel mai înalt nivel de restricție. Membrii `private` sunt accesibili _doar_ din interiorul aceleiași clase. Orice încercare de a-i accesa din exterior (chiar și din același pachet) va rezulta într-o **eroare de compilare**.
- **Modificatorul `default` (Package-Private):** Acesta este modificatorul implicit (când nu se specifică niciunul). Membrii `default` sunt vizibili pentru orice clasă din _același pachet_, dar nu și pentru subclasele din pachete diferite.
- **Modificatorul `protected`:** O extensie a vizibilității `default`. Membrii `protected` sunt vizibili pentru clasele din _același pachet_ ȘI pentru _subclasele_ aflate în pachete diferite.
- **Modificatorul `public`:** Oferă vizibilitate totală. Membrii `public` sunt accesibili de oriunde din program.
- **Regulile pentru Clase Imutabile:** Pentru a crea o clasă ale cărei obiecte nu pot fi modificate după creare, trebuie respectate următoarele reguli:
    1. **Clasa trebuie să fie `final`:** Pentru a preveni subclasele să modifice comportamentul.
    2. **Toate câmpurile (starea) trebuie să fie `private`:** Aceasta ESTE o regulă. Este esențială pentru a preveni accesul direct și modificarea din exterior.
    3. **Toate câmpurile trebuie să fie `final`:** Pentru a asigura că sunt inițializate o singură dată (de obicei în constructor).
    4. **Nu trebuie să existe metode "setter":** Pentru a interzice modificarea stării prin metode publice.        
    5. **Notă:** Câmpurile _nu_ trebuie să fie `static`. Imutabilitatea se referă la starea _obiectului_ (instanței), nu la starea _clasei_.
 

### Vocabular
- **Încapsulare:** Principiul ascunderii datelor și implementării unei clase, expunând o interfață publică controlată.
- **`private`:** Modificator de acces care restricționează vizibilitatea doar la clasa în care membrul este definit.
- **`protected`:** Modificator de acces care permite vizibilitatea în pachet și în subclase (indiferent de pachet).
- **`default` (package-private):** Modificator de acces implicit (fără cuvânt cheie) care permite vizibilitatea doar în același pachet.
- **`public`:** Modificator de acces care permite vizibilitatea de oriunde.
- **Clasă Imutabilă (Immutable):** O clasă ale cărei instanțe (obiecte) nu își pot schimba starea după ce au fost create.
- **Setter:** O metodă publică al cărei scop este de a modifica valoarea unui câmp privat (ex: `setNume(String nume)`).

### Întrebări
- De ce este afirmația "Toate câmpurile trebuie să fie `private`" ADEVĂRATĂ pentru o clasă imutabilă?
- De ce este afirmația "Toate câmpurile trebuie să fie `static`" FALSĂ pentru o clasă imutabilă?
- Care este singura diferență de vizibilitate dintre `protected` și `default`?    
- De ce încapsularea duce la o eroare de _compilare_ (nu de _rulare_) atunci când se accesează un câmp `private`?
